!function(p){"use strict";p.extend(!0,p.trumbowyg,{langs:{en:{preformatted:"Code sample <pre>"},fr:{preformatted:"Exemple de code"},it:{preformatted:"Codice <pre>"},zh_cn:{preformatted:"代码示例 <pre>"}},plugins:{preformatted:{init:function(d){d.addBtnDef("preformatted",{fn:function(){d.saveRange();var e,t,n,r,o,a=d.getRangeText();if(""!==a.replace(/\s/g,""))try{var c=function(){var e,t=null;window.getSelection?(e=window.getSelection()).rangeCount&&1!==(t=e.getRangeAt(0).commonAncestorContainer).nodeType&&(t=t.parentNode):(e=document.selection)&&"Control"!==e.type&&(t=e.createRange().parentElement());return t}().tagName.toLowerCase();if("code"===c||"pre"===c)return n=null,document.selection?n=document.selection.createRange().parentElement():0<(r=window.getSelection()).rangeCount&&(n=r.getRangeAt(0).startContainer.parentNode),r=p(n).contents().closest("pre").length,o=p(n).contents().closest("code").length,void(r&&o?p(n).contents().unwrap("code").unwrap("pre"):r?p(n).contents().unwrap("pre"):o&&p(n).contents().unwrap("code"));d.execCmd("insertHTML","<pre><code>"+(e=a,(t=document.createElement("DIV")).innerHTML=e,t.textContent||t.innerText||"")+"</code></pre>")}catch(e){}},tag:"pre"})}}}})}(jQuery);